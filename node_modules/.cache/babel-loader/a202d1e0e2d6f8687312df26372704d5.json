{"remainingRequest":"D:\\vue-project\\xdclass_front\\node_modules\\_babel-loader@8.2.2@babel-loader\\lib\\index.js??ref--16-1!D:\\vue-project\\xdclass_front\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue-project\\xdclass_front\\node_modules\\_vue-loader@15.9.6@vue-loader\\lib\\index.js??vue-loader-options!D:\\vue-project\\xdclass_front\\src\\views\\Pay\\Pay.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue-project\\xdclass_front\\src\\views\\Pay\\Pay.vue","mtime":1609679936405},{"path":"D:\\vue-project\\xdclass_front\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-project\\xdclass_front\\node_modules\\_babel-loader@8.2.2@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue-project\\xdclass_front\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-project\\xdclass_front\\node_modules\\_vue-loader@15.9.6@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovdnVlLXByb2plY3QveGRjbGFzc19mcm9udC9ub2RlX21vZHVsZXMvX0BiYWJlbF9ydW50aW1lQDcuMTIuNUBAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZmluZERldGFpbEJ5SWRBcGksIHNldE9yZGVyQXBpIH0gZnJvbSAiQC9hcGkvYXBpLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2aWRlb2luZm86IHt9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy/ojrflj5bop4bpopHor6bmg4UKICAgIGdldERldGFpbDogZnVuY3Rpb24gZ2V0RGV0YWlsKHZpZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZmluZERldGFpbEJ5SWRBcGkodmlkKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEuY29kZSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnZpZGVvaW5mbyA9IHJlc3VsdC5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgN11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy/kuIvljZUKICAgIHBheTogZnVuY3Rpb24gcGF5KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXN1bHQsIHRvYXN0LCBfdG9hc3Q7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gc2V0T3JkZXJBcGkoX3RoaXMyLiRzdG9yZS5zdGF0ZS50b2tlbiwgX3RoaXMyLiRyb3V0ZS5xdWVyeS52aWRlb19pZCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YS5jb2RlID09IDApIHsKICAgICAgICAgICAgICAgICAgdG9hc3QgPSBfdGhpczIuJGNyZWF0ZVRvYXN0KHsKICAgICAgICAgICAgICAgICAgICB0eHQ6ICLotK3kubDmiJDlip8iLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJjb3JyZWN0IiwKICAgICAgICAgICAgICAgICAgICB0aW1lOiAyMDAwLAogICAgICAgICAgICAgICAgICAgIG9uVGltZW91dDogZnVuY3Rpb24gb25UaW1lb3V0KCkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICJvcmRlciIKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIHRvYXN0LnNob3coKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90b2FzdCA9IF90aGlzMi4kY3JlYXRlVG9hc3QoewogICAgICAgICAgICAgICAgICAgIHR4dDogIui0reS5sOWksei0pSIsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICB0aW1lOiAyMDAwLAogICAgICAgICAgICAgICAgICAgIG9uVGltZW91dDogZnVuY3Rpb24gb25UaW1lb3V0KCkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICJvcmRlciIKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdG9hc3Quc2hvdygpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1swLCA3XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldERldGFpbCh0aGlzLiRyb3V0ZS5xdWVyeS52aWRlb19pZCk7CiAgfQp9Ow=="},{"version":3,"sources":["Pay.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAuBA,SAAA,iBAAA,EAAA,WAAA,QAAA,cAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,SAAA,EAAA;AADA,KAAA;AAGA,GALA;AAMA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,SAFA,qBAEA,GAFA,EAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,iBAAA,CAAA,GAAA,CAFA;;AAAA;AAEA,gBAAA,MAFA;;AAGA,oBAAA,MAAA,CAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,kBAAA,KAAA,CAAA,SAAA,GAAA,MAAA,CAAA,IAAA,CAAA,IAAA;AACA;;AALA;AAAA;;AAAA;AAAA;AAAA;AAOA,gBAAA,OAAA,CAAA,GAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,KAXA;AAaA;AACA,IAAA,GAdA,iBAcA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,WAAA,CACA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,KADA,EAEA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,QAFA,CAFA;;AAAA;AAEA,gBAAA,MAFA;;AAOA,oBAAA,MAAA,CAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,kBAAA,KADA,GACA,MAAA,CAAA,YAAA,CAAA;AACA,oBAAA,GAAA,EAAA,MADA;AAEA,oBAAA,IAAA,EAAA,SAFA;AAGA,oBAAA,IAAA,EAAA,IAHA;AAIA,oBAAA,SAAA,EAAA,qBAAA;AACA,sBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,wBAAA,IAAA,EAAA;AAAA,uBAAA;AACA;AANA,mBAAA,CADA;AASA,kBAAA,KAAA,CAAA,IAAA;AACA,iBAVA,MAUA;AACA,kBAAA,MADA,GACA,MAAA,CAAA,YAAA,CAAA;AACA,oBAAA,GAAA,EAAA,MADA;AAEA,oBAAA,IAAA,EAAA,OAFA;AAGA,oBAAA,IAAA,EAAA,IAHA;AAIA,oBAAA,SAAA,EAAA,qBAAA;AACA,sBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,wBAAA,IAAA,EAAA;AAAA,uBAAA;AACA;AANA,mBAAA,CADA;;AASA,kBAAA,MAAA,CAAA,IAAA;AACA;;AA3BA;AAAA;;AAAA;AAAA;AAAA;AA6BA,gBAAA,OAAA,CAAA,GAAA;;AA7BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+BA;AA7CA,GANA;AAqDA,EAAA,OArDA,qBAqDA;AACA,SAAA,SAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA;AACA;AAvDA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n        <!--视频信息-->\r\n        <div class=\"info\">\r\n            <p class=\"info_title\">商品信息</p>\r\n            <div class=\"box\">\r\n                <div class=\"imgdiv\">\r\n                    <img alt=\"课程照片\" :src=\"videoinfo.cover_img\" />\r\n                </div>\r\n                <div class=\"textdiv\">\r\n                    <p class=\"c_title\">{{videoinfo.title}}</p>\r\n                    <p class=\"price\">￥:&nbsp;&nbsp; {{(videoinfo.price / 100).toFixed(2)}}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!--顶部支付-->\r\n        <div class=\"footer\">\r\n            <p class=\"money\">实付:&nbsp;&nbsp; {{(videoinfo.price / 100).toFixed(2)}}</p>\r\n            <p class=\"submit\" @click=\"pay\">立刻支付</p>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import { findDetailByIdApi, setOrderApi } from \"@/api/api.js\";\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                videoinfo: {}\r\n            };\r\n        },\r\n        methods: {\r\n            //获取视频详情\r\n            async getDetail(vid) {\r\n                try {\r\n                    const result = await findDetailByIdApi(vid);\r\n                    if (result.data.code == 0) {\r\n                        this.videoinfo = result.data.data;\r\n                    }\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            },\r\n\r\n            //下单\r\n            async pay() {\r\n                try {\r\n                    const result = await setOrderApi(\r\n                        this.$store.state.token,\r\n                        this.$route.query.video_id\r\n                    );\r\n\r\n                    if (result.data.code == 0) {\r\n                        const toast = this.$createToast({\r\n                            txt: \"购买成功\",\r\n                            type: \"correct\",\r\n                            time: 2000,\r\n                            onTimeout: () => {\r\n                                this.$router.push({path: \"order\"});\r\n                            }\r\n                        });\r\n                        toast.show();\r\n                    }else {\r\n                        const toast = this.$createToast({\r\n                            txt: \"购买失败\",\r\n                            type: \"error\",\r\n                            time: 2000,\r\n                            onTimeout: () => {\r\n                                this.$router.push({path: \"order\"});\r\n                            }\r\n                        });\r\n                        toast.show();\r\n                    }\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            }\r\n        },\r\n        mounted() {\r\n            this.getDetail(this.$route.query.video_id);\r\n        }\r\n    };\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    // 视频标题\r\n    .info_title {\r\n        padding: 10px 20px;\r\n        background-color: #fff;\r\n        border-bottom: 1px solid #d9dde1;\r\n    }\r\n\r\n    .box {\r\n        background-color: #fff;\r\n        box-sizing: border-box;\r\n        padding: 20px;\r\n        display: flex;\r\n        margin-bottom: 15px;\r\n    .imgdiv {\r\n        width: 105px;\r\n        height: 59px;\r\n        flex-shrink: 0;\r\n    img {\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n    }\r\n\r\n    .textdiv {\r\n        margin-left: 20px;\r\n        height: 59px;\r\n        flex-grow: 1;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-between;\r\n    .price {\r\n        flex-shrink: 0;\r\n    }\r\n    }\r\n    }\r\n    //底部\r\n      .footer {\r\n          position: fixed;\r\n          bottom: 0;\r\n          width: 100%;\r\n          height: 50px;\r\n          background-color: #fff;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          box-shadow: 0 -2px 4px 0 rgba(0, 0, 0, 0.1);\r\n          font-size: 16px;\r\n    .money {\r\n        height: 50px;\r\n        line-height: 50px;\r\n        flex: 2;\r\n        text-align: center;\r\n        background-color: #fff;\r\n    }\r\n    .submit {\r\n        height: 50px;\r\n        line-height: 50px;\r\n        flex: 1;\r\n        text-align: center;\r\n        background-color: #ff2d50;\r\n        color: #fff;\r\n    }\r\n    }\r\n</style>\r\n"],"sourceRoot":"src/views/Pay"}]}