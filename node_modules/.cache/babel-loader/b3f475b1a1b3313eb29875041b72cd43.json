{"remainingRequest":"D:\\vue-project\\xdclass_front\\node_modules\\_thread-loader@2.1.3@thread-loader\\dist\\cjs.js!D:\\vue-project\\xdclass_front\\node_modules\\_babel-loader@8.2.2@babel-loader\\lib\\index.js??ref--16-2!D:\\vue-project\\xdclass_front\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue-project\\xdclass_front\\node_modules\\_vue-loader@15.9.6@vue-loader\\lib\\index.js??vue-loader-options!D:\\vue-project\\xdclass_front\\node_modules\\_cube-ui@1.12.44@cube-ui\\src\\components\\image-preview\\image-preview.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue-project\\xdclass_front\\node_modules\\_cube-ui@1.12.44@cube-ui\\src\\components\\image-preview\\image-preview.vue","mtime":499162500000},{"path":"D:\\vue-project\\xdclass_front\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-project\\xdclass_front\\node_modules\\_thread-loader@2.1.3@thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-project\\xdclass_front\\node_modules\\_babel-loader@8.2.2@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue-project\\xdclass_front\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-project\\xdclass_front\\node_modules\\_vue-loader@15.9.6@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5iaW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi50aW1lcnMuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgQ3ViZVBvcHVwIGZyb20gJy4uL3BvcHVwL3BvcHVwLnZ1ZSc7CmltcG9ydCBDdWJlU2xpZGUgZnJvbSAnLi4vc2xpZGUvc2xpZGUudnVlJzsKaW1wb3J0IEN1YmVTbGlkZUl0ZW0gZnJvbSAnLi4vc2xpZGUvc2xpZGUtaXRlbS52dWUnOwppbXBvcnQgQ3ViZVNjcm9sbCBmcm9tICcuLi9zY3JvbGwvc2Nyb2xsLnZ1ZSc7CmltcG9ydCB2aXNpYmlsaXR5TWl4aW4gZnJvbSAnLi4vLi4vY29tbW9uL21peGlucy92aXNpYmlsaXR5JzsKaW1wb3J0IHBvcHVwTWl4aW4gZnJvbSAnLi4vLi4vY29tbW9uL21peGlucy9wb3B1cCc7CmltcG9ydCB7IGlzQW5kcm9pZCB9IGZyb20gJy4uLy4uL2NvbW1vbi9oZWxwZXJzL2Vudic7CmltcG9ydCB7IFVTRV9UUkFOU0lUSU9OIH0gZnJvbSAnLi4vLi4vY29tbW9uL2JzY3JvbGwvY29uc3RhbnRzJzsKdmFyIENPTVBPTkVOVF9OQU1FID0gJ2N1YmUtaW1hZ2UtcHJldmlldyc7CnZhciBFVkVOVF9DSEFOR0UgPSAnY2hhbmdlJzsKdmFyIEVWRU5UX0hJREUgPSAnaGlkZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiBDT01QT05FTlRfTkFNRSwKICBtaXhpbnM6IFt2aXNpYmlsaXR5TWl4aW4sIHBvcHVwTWl4aW5dLAogIHByb3BzOiB7CiAgICBpbml0aWFsSW5kZXg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICAiZGVmYXVsdCI6IDAKICAgIH0sCiAgICBpbWdzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICAiZGVmYXVsdCI6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgbG9vcDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICAiZGVmYXVsdCI6IHRydWUKICAgIH0sCiAgICBzcGVlZDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgICJkZWZhdWx0IjogNDAwCiAgICB9LAogICAgcHJldmVudERlZmF1bHQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgImRlZmF1bHQiOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3VycmVudFBhZ2VJbmRleDogdGhpcy5pbml0aWFsSW5kZXgsCiAgICAgIG9wdGlvbnM6IHsKICAgICAgICBvYnNlcnZlRE9NOiBmYWxzZSwKICAgICAgICBib3VuY2U6IHsKICAgICAgICAgIGxlZnQ6IHRydWUsCiAgICAgICAgICByaWdodDogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgdXNlVHJhbnNpdGlvbjogaXNBbmRyb2lkID8gZmFsc2UgOiBVU0VfVFJBTlNJVElPTiwKICAgICAgICBwcm9iZVR5cGU6IDMsCiAgICAgICAgcHJldmVudERlZmF1bHQ6IHRoaXMucHJldmVudERlZmF1bHQKICAgICAgfSwKICAgICAgc2Nyb2xsT3B0aW9uczogewogICAgICAgIHVzZVRyYW5zaXRpb246IFVTRV9UUkFOU0lUSU9OLAogICAgICAgIEhXQ29tcG9zaXRpbmc6IGlzQW5kcm9pZCwKICAgICAgICBvYnNlcnZlRE9NOiBmYWxzZSwKICAgICAgICB6b29tOiB0cnVlLAogICAgICAgIGJpbmRUb1dyYXBwZXI6IHRydWUsCiAgICAgICAgZnJlZVNjcm9sbDogdHJ1ZSwKICAgICAgICBzY3JvbGxYOiB0cnVlLAogICAgICAgIHNjcm9sbFk6IHRydWUsCiAgICAgICAgcHJvYmVUeXBlOiAzLAogICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgY2xpY2s6IGZhbHNlLAogICAgICAgIGRibGNsaWNrOiB0cnVlLAogICAgICAgIGJvdW5jZVRpbWU6IDMwMCwKICAgICAgICBwcmV2ZW50RGVmYXVsdDogdGhpcy5wcmV2ZW50RGVmYXVsdAogICAgICB9CiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGluaXRpYWxJbmRleDogZnVuY3Rpb24gaW5pdGlhbEluZGV4KG5ld0luZGV4KSB7CiAgICAgIHRoaXMuc2V0UGFnZUluZGV4KG5ld0luZGV4KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNob3c6IGZ1bmN0aW9uIHNob3coKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmlzVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5fbGlzdGVuU2xpZGUoKTsKCiAgICAgICAgX3RoaXMuX2xpc3RlblNjcm9sbCgpOwogICAgICB9KTsKICAgIH0sCiAgICBfbGlzdGVuU2xpZGU6IGZ1bmN0aW9uIF9saXN0ZW5TbGlkZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvLyB3YWl0aW5nIHNsaWRlIGluaXRpYWwKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBzbGlkZSA9IF90aGlzMi4kcmVmcy5zbGlkZS5zbGlkZTsKICAgICAgICBzbGlkZS5vbignc2Nyb2xsU3RhcnQnLCBfdGhpczIuc2xpZGVTY3JvbGxTdGFydEhhbmRsZXIpOwogICAgICAgIHNsaWRlLm9uKCdzY3JvbGxFbmQnLCBfdGhpczIuc2xpZGVTY3JvbGxFbmRIYW5kbGVyKTsKICAgICAgfSk7CiAgICB9LAogICAgX2xpc3RlblNjcm9sbDogZnVuY3Rpb24gX2xpc3RlblNjcm9sbCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAvLyB3YWl0aW5nIHNjcm9sbCBpbml0aWFsCiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuJHJlZnMuaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoc2Nyb2xsSXRlbSkgewogICAgICAgICAgdmFyIHNjcm9sbCA9IHNjcm9sbEl0ZW0uc2Nyb2xsOwogICAgICAgICAgc2Nyb2xsLm9uKCd6b29tU3RhcnQnLCBfdGhpczMuem9vbVN0YXJ0SGFuZGxlci5iaW5kKF90aGlzMywgc2Nyb2xsKSk7CiAgICAgICAgICBzY3JvbGwub24oJ2JlZm9yZVNjcm9sbFN0YXJ0JywgX3RoaXMzLmJlZm9yZVNjcm9sbEhhbmRsZXIpOwogICAgICAgICAgc2Nyb2xsLm9uKCdzY3JvbGwnLCBfdGhpczMuY2hlY2tCb3VuZGFyeS5iaW5kKF90aGlzMywgc2Nyb2xsKSk7CiAgICAgICAgICBzY3JvbGwub24oJ3Njcm9sbEVuZCcsIF90aGlzMy5zY3JvbGxFbmRIYW5kbGVyLmJpbmQoX3RoaXMzLCBzY3JvbGwpKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgaGlkZTogZnVuY3Rpb24gaGlkZSgpIHsKICAgICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy4kZW1pdChFVkVOVF9ISURFKTsKICAgIH0sCiAgICBwcmV2OiBmdW5jdGlvbiBwcmV2KCkgewogICAgICB2YXIgc2xpZGUgPSB0aGlzLiRyZWZzLnNsaWRlLnNsaWRlOwogICAgICBzbGlkZSAmJiBzbGlkZS5wcmV2KCk7CiAgICB9LAogICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHsKICAgICAgdmFyIHNsaWRlID0gdGhpcy4kcmVmcy5zbGlkZS5zbGlkZTsKICAgICAgc2xpZGUgJiYgc2xpZGUubmV4dCgpOwogICAgfSwKICAgIGdvVG86IGZ1bmN0aW9uIGdvVG8oaW5kZXgpIHsKICAgICAgdmFyIHNsaWRlID0gdGhpcy4kcmVmcy5zbGlkZS5zbGlkZTsKICAgICAgc2xpZGUgJiYgc2xpZGUuZ29Ub1BhZ2UoaW5kZXgsIDApOwogICAgfSwKICAgIGltZ0xvYWQ6IGZ1bmN0aW9uIGltZ0xvYWQoaSkgewogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlICYmIHRoaXMuJHJlZnMuaXRlbXMpIHsKICAgICAgICB0aGlzLiRyZWZzLml0ZW1zW2ldLnNjcm9sbC5yZWZyZXNoKCk7CiAgICAgIH0KICAgIH0sCiAgICBzZXRQYWdlSW5kZXg6IGZ1bmN0aW9uIHNldFBhZ2VJbmRleChjdXJyZW50UGFnZUluZGV4KSB7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlSW5kZXggPj0gMCAmJiB0aGlzLmN1cnJlbnRQYWdlSW5kZXggIT09IGN1cnJlbnRQYWdlSW5kZXgpIHsKICAgICAgICB2YXIgaXRlbSA9IHRoaXMuJHJlZnMuaXRlbXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XTsKCiAgICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICAgIHZhciBzY3JvbGwgPSBpdGVtLnNjcm9sbDsKICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwoKICAgICAgICAgIGlmIChzY3JvbGwuc2NhbGUgIT09IDEpIHsKICAgICAgICAgICAgc2Nyb2xsLnNjYWxlID0gMTsKICAgICAgICAgICAgc2Nyb2xsLmxhc3RjYWxlID0gMTsKICAgICAgICAgICAgc2Nyb2xsLnJlZnJlc2goKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuY3VycmVudFBhZ2VJbmRleCA9IGN1cnJlbnRQYWdlSW5kZXg7CiAgICB9LAogICAgc2xpZGVDaGFuZ2VIYW5kbGVyOiBmdW5jdGlvbiBzbGlkZUNoYW5nZUhhbmRsZXIoY3VycmVudFBhZ2VJbmRleCkgewogICAgICB0aGlzLnNldFBhZ2VJbmRleChjdXJyZW50UGFnZUluZGV4KTsKICAgICAgdGhpcy5zbGlkZVNjcm9sbEVuZEhhbmRsZXIoKTsKICAgICAgdGhpcy4kZW1pdChFVkVOVF9DSEFOR0UsIGN1cnJlbnRQYWdlSW5kZXgpOwogICAgfSwKICAgIHNsaWRlU2Nyb2xsU3RhcnRIYW5kbGVyOiBmdW5jdGlvbiBzbGlkZVNjcm9sbFN0YXJ0SGFuZGxlcigpIHsKICAgICAgdmFyIHNsaWRlID0gdGhpcy4kcmVmcy5zbGlkZS5zbGlkZTsKCiAgICAgIGlmICh0aGlzLl9zY3JvbGxpbmcgJiYgIXRoaXMuX2hhc0VuYWJsZVNsaWRlKSB7CiAgICAgICAgc2xpZGUuZGlzYWJsZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHNsaWRlLmVuYWJsZSgpOwogICAgICB9CiAgICB9LAogICAgc2xpZGVTY3JvbGxFbmRIYW5kbGVyOiBmdW5jdGlvbiBzbGlkZVNjcm9sbEVuZEhhbmRsZXIoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmcy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChzY3JvbGxJdGVtKSB7CiAgICAgICAgX3RoaXM0LnNjcm9sbEVuZEhhbmRsZXIoc2Nyb2xsSXRlbS5zY3JvbGwpOwogICAgICB9KTsKICAgIH0sCiAgICBfc2Nyb2xsOiBmdW5jdGlvbiBfc2Nyb2xsKHNjcm9sbCkgewogICAgICB2YXIgc2xpZGUgPSB0aGlzLiRyZWZzLnNsaWRlLnNsaWRlOwogICAgICBzbGlkZS5kaXNhYmxlKCk7CiAgICAgIHNsaWRlLnJlZnJlc2goKTsKICAgICAgc2Nyb2xsLmVuYWJsZSgpOwogICAgfSwKICAgIF9zbGlkZTogZnVuY3Rpb24gX3NsaWRlKHNjcm9sbCkgewogICAgICB0aGlzLiRyZWZzLnNsaWRlLnNsaWRlLmVuYWJsZSgpOwogICAgICBzY3JvbGwuZGlzYWJsZSgpOwogICAgfSwKICAgIGJlZm9yZVNjcm9sbEhhbmRsZXI6IGZ1bmN0aW9uIGJlZm9yZVNjcm9sbEhhbmRsZXIoKSB7CiAgICAgIC8vIGZvciB0b3VjaHN0YXJ0IHNjcm9sbEVuZAogICAgICAvLyBjYW5jZWwgaXQsIGRvIG5vdCBlbmFibGUgc2xpZGUKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZW5hYmxlU2xpZGVUaWQpOwogICAgfSwKICAgIHNjcm9sbEVuZEhhbmRsZXI6IGZ1bmN0aW9uIHNjcm9sbEVuZEhhbmRsZXIoc2Nyb2xsKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZW5hYmxlU2xpZGVUaWQpOwoKICAgICAgaWYgKHRoaXMuZGJsWm9vbWluZykgewogICAgICAgIHRoaXMuZGJsWm9vbWluZyA9IGZhbHNlOwogICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNsaWNrVGlkKTsKICAgICAgfQoKICAgICAgdGhpcy5faGFzRW5hYmxlU2xpZGUgPSBmYWxzZTsKICAgICAgdGhpcy5fc2Nyb2xsaW5nID0gZmFsc2U7CiAgICAgIHNjcm9sbC5lbmFibGUoKTsKICAgICAgdGhpcy5lbmFibGVTbGlkZVRpZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNS4kcmVmcy5zbGlkZS5zbGlkZS5lbmFibGUoKTsKICAgICAgfSk7CiAgICB9LAogICAgY2hlY2tCb3VuZGFyeTogZnVuY3Rpb24gY2hlY2tCb3VuZGFyeShzY3JvbGwsIHBvcykgewogICAgICBpZiAoc2Nyb2xsLmRpc3RYICYmIE1hdGguYWJzKHNjcm9sbC5kaXN0WCkgPiBNYXRoLmFicyhzY3JvbGwuZGlzdFkpKSB7CiAgICAgICAgdGhpcy5fc2Nyb2xsaW5nID0gdHJ1ZTsKICAgICAgICB2YXIgcmVhY2hlZCA9IHNjcm9sbC5kaXN0WCA+IDAgPyBwb3MueCA+PSBzY3JvbGwubWluU2Nyb2xsWCA6IHBvcy54IDw9IHNjcm9sbC5tYXhTY3JvbGxYOwoKICAgICAgICBpZiAocmVhY2hlZCkgewogICAgICAgICAgdGhpcy5faGFzRW5hYmxlU2xpZGUgPSB0cnVlOwoKICAgICAgICAgIHRoaXMuX3NsaWRlKHNjcm9sbCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICghdGhpcy5faGFzRW5hYmxlU2xpZGUpIHsKICAgICAgICAgICAgdGhpcy5fc2Nyb2xsKHNjcm9sbCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHNjcm9sbC5kaXN0WSkgewogICAgICAgIHRoaXMuX3Njcm9sbGluZyA9IHRydWU7CgogICAgICAgIHRoaXMuX3Njcm9sbChzY3JvbGwpOwogICAgICB9CiAgICB9LAogICAgem9vbVN0YXJ0SGFuZGxlcjogZnVuY3Rpb24gem9vbVN0YXJ0SGFuZGxlcihzY3JvbGwpIHsKICAgICAgdGhpcy5fc2Nyb2xsKHNjcm9sbCk7CiAgICB9LAogICAgZGJsY2xpY2tIYW5kbGVyOiBmdW5jdGlvbiBkYmxjbGlja0hhbmRsZXIoaW5kZXgsIGUpIHsKICAgICAgdmFyIHNjcm9sbCA9IHRoaXMuJHJlZnMuaXRlbXNbaW5kZXhdLnNjcm9sbDsKICAgICAgdGhpcy5kYmxab29taW5nID0gdHJ1ZTsKICAgICAgdGhpcy56b29tVG8oc2Nyb2xsLCBzY3JvbGwuc2NhbGUgPiAxID8gMSA6IDIsIGUpOwogICAgICBzY3JvbGwuZGlzYWJsZSgpOwogICAgfSwKICAgIGl0ZW1DbGlja0hhbmRsZXI6IGZ1bmN0aW9uIGl0ZW1DbGlja0hhbmRsZXIoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY2xpY2tUaWQpOwogICAgICB0aGlzLmNsaWNrVGlkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgIV90aGlzNi5kYmxab29taW5nICYmIF90aGlzNi5oaWRlKCk7CiAgICAgIH0sIHRoaXMuc2Nyb2xsT3B0aW9ucy5ib3VuY2VUaW1lKTsKICAgIH0sCiAgICB6b29tVG86IGZ1bmN0aW9uIHpvb21UbyhzY3JvbGwsIHNjYWxlLCBlKSB7CiAgICAgIHNjcm9sbC56b29tVG8oc2NhbGUsIGUucGFnZVgsIGUucGFnZVkpOwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgQ3ViZVBvcHVwOiBDdWJlUG9wdXAsCiAgICBDdWJlU2xpZGU6IEN1YmVTbGlkZSwKICAgIEN1YmVTbGlkZUl0ZW06IEN1YmVTbGlkZUl0ZW0sCiAgICBDdWJlU2Nyb2xsOiBDdWJlU2Nyb2xsCiAgfQp9Ow=="},{"version":3,"sources":["image-preview.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <transition name=\"cube-image-preview-fade\">\n    <cube-popup type=\"image-preview\" :z-index=\"zIndex\" :center=\"false\" v-show=\"isVisible\">\n      <div class=\"cube-image-preview-container\">\n        <div class=\"cube-image-preview-header\">\n          <slot name=\"header\" :current=\"currentPageIndex\"></slot>\n        </div>\n        <cube-slide\n          ref=\"slide\"\n          v-if=\"isVisible\"\n          :data=\"imgs\"\n          :initial-index=\"currentPageIndex\"\n          :auto-play=\"false\"\n          :loop=\"loop\"\n          :speed=\"speed\"\n          :options=\"options\"\n          @change=\"slideChangeHandler\"\n        >\n          <cube-slide-item\n            v-for=\"(img, index) in imgs\"\n            :key=\"index\"\n          >\n            <div class=\"cube-image-preview-item\" @click=\"itemClickHandler\">\n              <cube-scroll\n                ref=\"items\"\n                :options=\"scrollOptions\"\n                @dblclick.native=\"dblclickHandler(index, $event)\"\n              >\n                <img class=\"cube-image-preview-img\" :src=\"img\" @load=\"imgLoad(index)\">\n              </cube-scroll>\n            </div>\n          </cube-slide-item>\n          <template slot=\"dots\"><i></i></template>\n        </cube-slide>\n        <div class=\"cube-image-preview-footer\">\n          <slot name=\"footer\" :current=\"currentPageIndex\">\n            <span class=\"cube-image-preview-counter\">{{currentPageIndex + 1}}/{{imgs.length}}</span>\n          </slot>\n        </div>\n      </div>\n    </cube-popup>\n  </transition>\n</template>\n<script type=\"text/ecmascript-6\">\n  import CubePopup from '../popup/popup.vue'\n  import CubeSlide from '../slide/slide.vue'\n  import CubeSlideItem from '../slide/slide-item.vue'\n  import CubeScroll from '../scroll/scroll.vue'\n  import visibilityMixin from '../../common/mixins/visibility'\n  import popupMixin from '../../common/mixins/popup'\n  import { isAndroid } from '../../common/helpers/env'\n  import { USE_TRANSITION } from '../../common/bscroll/constants'\n\n  const COMPONENT_NAME = 'cube-image-preview'\n  const EVENT_CHANGE = 'change'\n  const EVENT_HIDE = 'hide'\n\n  export default {\n    name: COMPONENT_NAME,\n    mixins: [visibilityMixin, popupMixin],\n    props: {\n      initialIndex: {\n        type: Number,\n        default: 0\n      },\n      imgs: {\n        type: Array,\n        default() {\n          /* istanbul ignore next */\n          return []\n        }\n      },\n      loop: {\n        type: Boolean,\n        default: true\n      },\n      speed: {\n        type: Number,\n        default: 400\n      },\n      preventDefault: {\n        type: Boolean,\n        default: true\n      }\n    },\n    data() {\n      return {\n        currentPageIndex: this.initialIndex,\n        options: {\n          observeDOM: false,\n          bounce: {\n            left: true,\n            right: true\n          },\n          useTransition: isAndroid ? false : USE_TRANSITION,\n          probeType: 3,\n          preventDefault: this.preventDefault\n        },\n        scrollOptions: {\n          useTransition: USE_TRANSITION,\n          HWCompositing: isAndroid,\n          observeDOM: false,\n          zoom: true,\n          bindToWrapper: true,\n          freeScroll: true,\n          scrollX: true,\n          scrollY: true,\n          probeType: 3,\n          bounce: false,\n          click: false,\n          dblclick: true,\n          bounceTime: 300,\n          preventDefault: this.preventDefault\n        }\n      }\n    },\n    watch: {\n      initialIndex(newIndex) {\n        this.setPageIndex(newIndex)\n      }\n    },\n    methods: {\n      show() {\n        this.isVisible = true\n        this.$nextTick(() => {\n          this._listenSlide()\n          this._listenScroll()\n        })\n      },\n      _listenSlide() {\n        // waiting slide initial\n        this.$nextTick(() => {\n          const slide = this.$refs.slide.slide\n          slide.on('scrollStart', this.slideScrollStartHandler)\n          slide.on('scrollEnd', this.slideScrollEndHandler)\n        })\n      },\n      _listenScroll() {\n        // waiting scroll initial\n        this.$nextTick(() => {\n          this.$refs.items.forEach((scrollItem) => {\n            const scroll = scrollItem.scroll\n            scroll.on('zoomStart', this.zoomStartHandler.bind(this, scroll))\n            scroll.on('beforeScrollStart', this.beforeScrollHandler)\n            scroll.on('scroll', this.checkBoundary.bind(this, scroll))\n            scroll.on('scrollEnd', this.scrollEndHandler.bind(this, scroll))\n          })\n        })\n      },\n      hide() {\n        this.isVisible = false\n        this.$emit(EVENT_HIDE)\n      },\n      prev() {\n        const slide = this.$refs.slide.slide\n        slide && slide.prev()\n      },\n      next() {\n        const slide = this.$refs.slide.slide\n        slide && slide.next()\n      },\n      goTo(index) {\n        const slide = this.$refs.slide.slide\n        slide && slide.goToPage(index, 0)\n      },\n      imgLoad(i) {\n        /* istanbul ignore if */\n        if (this.isVisible && this.$refs.items) {\n          this.$refs.items[i].scroll.refresh()\n        }\n      },\n      setPageIndex(currentPageIndex) {\n        if (this.currentPageIndex >= 0 && this.currentPageIndex !== currentPageIndex) {\n          const item = this.$refs.items[this.currentPageIndex]\n          if (item) {\n            const scroll = item.scroll\n            /* istanbul ignore if */\n            if (scroll.scale !== 1) {\n              scroll.scale = 1\n              scroll.lastcale = 1\n              scroll.refresh()\n            }\n          }\n        }\n        this.currentPageIndex = currentPageIndex\n      },\n      slideChangeHandler(currentPageIndex) {\n        this.setPageIndex(currentPageIndex)\n        this.slideScrollEndHandler()\n        this.$emit(EVENT_CHANGE, currentPageIndex)\n      },\n      slideScrollStartHandler() {\n        const slide = this.$refs.slide.slide\n        if (this._scrolling && !this._hasEnableSlide) {\n          slide.disable()\n        } else {\n          slide.enable()\n        }\n      },\n      slideScrollEndHandler() {\n        this.$refs.items.forEach((scrollItem) => {\n          this.scrollEndHandler(scrollItem.scroll)\n        })\n      },\n      _scroll(scroll) {\n        const slide = this.$refs.slide.slide\n        slide.disable()\n        slide.refresh()\n        scroll.enable()\n      },\n      _slide(scroll) {\n        this.$refs.slide.slide.enable()\n        scroll.disable()\n      },\n      beforeScrollHandler() {\n        // for touchstart scrollEnd\n        // cancel it, do not enable slide\n        clearTimeout(this.enableSlideTid)\n      },\n      scrollEndHandler(scroll) {\n        clearTimeout(this.enableSlideTid)\n        if (this.dblZooming) {\n          this.dblZooming = false\n          clearTimeout(this.clickTid)\n        }\n        this._hasEnableSlide = false\n        this._scrolling = false\n        scroll.enable()\n        this.enableSlideTid = setTimeout(() => {\n          this.$refs.slide.slide.enable()\n        })\n      },\n      checkBoundary(scroll, pos) {\n        if (scroll.distX && Math.abs(scroll.distX) > Math.abs(scroll.distY)) {\n          this._scrolling = true\n          const reached = scroll.distX > 0 ? pos.x >= scroll.minScrollX : pos.x <= scroll.maxScrollX\n          if (reached) {\n            this._hasEnableSlide = true\n            this._slide(scroll)\n          } else {\n            if (!this._hasEnableSlide) {\n              this._scroll(scroll)\n            }\n          }\n        } else if (scroll.distY) {\n          this._scrolling = true\n          this._scroll(scroll)\n        }\n      },\n      zoomStartHandler(scroll) {\n        this._scroll(scroll)\n      },\n      dblclickHandler(index, e) {\n        const scroll = this.$refs.items[index].scroll\n        this.dblZooming = true\n        this.zoomTo(scroll, scroll.scale > 1 ? 1 : 2, e)\n        scroll.disable()\n      },\n      itemClickHandler() {\n        clearTimeout(this.clickTid)\n        this.clickTid = setTimeout(() => {\n          !this.dblZooming && this.hide()\n        }, this.scrollOptions.bounceTime)\n      },\n      zoomTo(scroll, scale, e) {\n        scroll.zoomTo(scale, e.pageX, e.pageY)\n      }\n    },\n    components: {\n      CubePopup,\n      CubeSlide,\n      CubeSlideItem,\n      CubeScroll\n    }\n  }\n</script>\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n  @require \"../../common/stylus/variable.styl\"\n\n  .cube-image-preview-fade-enter, .cube-image-preview-fade-leave-active\n    opacity: 0\n  .cube-image-preview-fade-enter-active, .cube-image-preview-fade-leave-active\n    transition: all .3s ease-in-out\n\n  .cube-image-preview\n    .cube-popup-mask\n      opacity: .6\n    .cube-popup-content\n      width: 100%\n      height: 100%\n    .cube-slide-item\n      display: flex\n      align-items: center\n      justify-content: center\n      overflow: hidden\n  .cube-image-preview-container\n    height: 100%\n    margin: 0 -10px\n  .cube-image-preview-header,\n  .cube-image-preview-footer\n    position: absolute\n    left: 0\n    right: 0\n  .cube-image-preview-header\n    top: 0\n  .cube-image-preview-footer\n    bottom: 0\n  .cube-image-preview-counter\n    position: absolute\n    bottom: 50px\n    width: 100%\n    text-align: center\n    font-size: $fontsize-medium\n    color: $image-preview-counter-color\n  .cube-image-preview-item\n    position: relative\n    padding: 0 10px\n    width: 100%\n    height: 100%\n    .cube-scroll-wrapper\n      display: flex\n      align-items: center\n      justify-content: center\n    .cube-image-preview-img\n      display: block\n      height: auto\n      max-width: 100%\n      max-height: 100%\n</style>\n"],"sourceRoot":"node_modules/_cube-ui@1.12.44@cube-ui/src/components/image-preview"}]}